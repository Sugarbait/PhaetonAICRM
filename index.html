<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/images/artlee-favicon.png" />
    <link rel="shortcut icon" href="/images/artlee-favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="HIPAA-compliant business CRM" />
    <meta name="theme-color" content="#0056B3" />

    <!-- Prevent ALL search engine indexing -->
    <meta name="robots" content="noindex, nofollow, noarchive, nosnippet, noimageindex, nocache" />
    <meta name="googlebot" content="noindex, nofollow, noarchive, nosnippet, noimageindex" />
    <meta name="bingbot" content="noindex, nofollow, noarchive, nosnippet, noimageindex" />

    <!-- Secure Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; style-src-elem 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https: blob:; connect-src 'self' http://localhost:* wss://localhost:* https://localhost:* https://login.microsoftonline.com https://*.supabase.co wss://*.supabase.co https://api.retellai.com wss://api.retellai.com https://api.exchangerate-api.com https://open.er-api.com https://api.openai.com https://api.emailjs.com; font-src 'self' https://fonts.gstatic.com https://fonts.googleapis.com data:; object-src 'none'; base-uri 'self'; form-action 'self' https://login.microsoftonline.com; upgrade-insecure-requests;" />
    <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains; preload" />
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=(), accelerometer=(), ambient-light-sensor=()" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="/images/artlee-favicon.png" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

    <title>Phaeton AI CRM</title>

    <!-- Runtime Configuration for Hostinger (loads before everything else) -->
    <script src="/runtime-config.js"></script>

    <!-- Azure Static Web Apps Environment Variables -->
    <script src="/src/config/azure-env-inject.js"></script>

    <!-- Prevent white flash on load - Dark mode support -->
    <style>
      /* Default light mode */
      body {
        margin: 0;
        background-color: #f9fafb;
        transition: background-color 0.2s ease;
      }

      /* Dark mode - using prefers-color-scheme */
      @media (prefers-color-scheme: dark) {
        body {
          background-color: #111827;
        }
      }

      /* Override with localStorage theme if available */
      body.dark {
        background-color: #111827;
      }

      body.light {
        background-color: #f9fafb;
      }
    </style>

    <!-- Apply theme immediately before render -->
    <script>
      (function() {
        try {
          // Check localStorage for saved theme
          const savedTheme = localStorage.getItem('theme');

          if (savedTheme === 'dark') {
            document.body.classList.add('dark');
            document.documentElement.classList.add('dark');
          } else if (savedTheme === 'light') {
            document.body.classList.add('light');
            document.documentElement.classList.remove('dark');
          } else {
            // No saved theme - use system preference
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
              document.body.classList.add('dark');
              document.documentElement.classList.add('dark');
            }
          }
        } catch (e) {
          // Silent fail - default to light mode
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>